(function(e){e.fn.selectify=function(t){var n=e.extend({},e.fn.selectify.defaults,t);e("select").each(function(){var t=e(this),r=function(){var n="";t.find("option").each(function(){var t=!1;e(this).attr("disabled")!==undefined&&(t=!0);n+='<li data-value="'+e(this).val()+'" data-disabled="'+t+'">'+e(this).text()+"</li>"});return'<ol style="display: none">'+n+"</ol>"},i=function(){var e='<div class="'+n.arrowContainer+'">'+n.arrowCharacter+"</div>";return'<div class="'+n.currentItem+'"><span>'+t.find("option:selected").text()+"</span>"+e+"</div>"};t.wrap('<div class="'+n.containerDiv+'">').after(r).before(i).hide();var s=n.width;t.attr("data-width")&&(s=t.attr("data-width"));t.parent().css("width",s)});e("."+n.containerDiv+" ol li").bind("click",function(t){t.preventDefault();var r=e(this).closest("."+n.containerDiv),i=r.find("select"),s=r.find("ol"),o=e(this).attr("data-value"),u=e(this).html();if(e(this).attr("data-disabled")==="false"){i.val(o);r.find("."+n.currentItem+" span").html(u);s.slideToggle("fast",function(){e(this).parent().removeClass("active")})}});e("."+n.containerDiv+" ."+n.currentItem).bind("click",function(t){var n=e(this).parent(),r=n.find("ol");if(r.is(":visible")){t.stopPropagation();n.removeClass("active").addClass("blurring");r.slideToggle("fast",function(){n.removeClass("blurring")});e(document).unbind("click")}else{n.addClass("active");r.slideToggle("fast",function(){e(document).one("click",function(e){if(e.target.tagName!=="LI"){n.removeClass("active");n.addClass("blurring");r.slideToggle("fast",function(){n.removeClass("blurring").clearQueue()})}})})}})};e.fn.selectify.defaults={containerDiv:"selectifyContainer",currentItem:"currentItem",width:"250px",arrowContainer:"arrowContainer",arrowCharacter:"\\/"}})(jQuery);